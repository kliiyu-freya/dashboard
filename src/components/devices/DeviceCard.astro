---
import Icon from '../ui/Icon.astro';
import Card from '../ui/Card.astro';
import type { Device } from '../../utils/types';

interface Props {
  device: Device;
}

const { device } = Astro.props;

const getDeviceIcon = (type: Device['type']) => {
  switch (type) {
    case 'light': return 'lightbulb';
    case 'thermostat': return 'thermostat';
    case 'switch': return 'power_settings_new';
    default: return 'device_unknown';
  }
};
---

<Card title={device.room}>
  <div class="space-y-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <Icon name={getDeviceIcon(device.type)} class="text-primary-500 mr-2" />
        <span>{device.name}</span>
      </div>
      <button class="text-primary-600 dark:text-primary-500">
        <Icon name="power_settings_new" />
      </button>
    </div>
    
    {device.type === 'thermostat' && (
      <div class="flex items-center justify-between">
        <span>Temperature</span>
        <span>{device.value}Â°F</span>
      </div>
    )}
  </div>
</Card>